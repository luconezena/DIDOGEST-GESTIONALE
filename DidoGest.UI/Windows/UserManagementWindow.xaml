<Window x:Class="DidoGest.UI.Windows.UserManagementWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        Title="Gestione utenti" Height="520" Width="880" WindowStartupLocation="CenterOwner"
        ResizeMode="CanResize">
    <Grid Margin="16">
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*" />
            <ColumnDefinition Width="16" />
            <ColumnDefinition Width="320" />
        </Grid.ColumnDefinitions>

        <DataGrid x:Name="GridUsers" Grid.Column="0"
                  AutoGenerateColumns="False"
                  IsReadOnly="True"
                  SelectionMode="Single"
                  SelectionChanged="GridUsers_SelectionChanged"
                  CanUserAddRows="False">
            <DataGrid.Columns>
                <DataGridTextColumn Header="Nome utente" Binding="{Binding Username}" Width="*" />
                <DataGridTextColumn Header="Ruolo" Binding="{Binding Ruolo}" Width="140" />
                <DataGridCheckBoxColumn Header="Attivo" Binding="{Binding Attivo}" Width="80" />
            </DataGrid.Columns>
        </DataGrid>

        <Border Grid.Column="2" Padding="16" Background="{DynamicResource MaterialDesignPaper}" CornerRadius="6">
            <StackPanel>
                <TextBlock Text="Dettagli" FontSize="18" FontWeight="SemiBold" Margin="0,0,0,12" />

                <TextBox x:Name="TxtUsername" Margin="0,0,0,10"
                         materialDesign:HintAssist.Hint="Nome utente"
                         Style="{StaticResource MaterialDesignOutlinedTextBox}" />

                <ComboBox x:Name="CmbRuolo" Margin="0,0,0,10" />

                <CheckBox x:Name="ChkAttivo" Content="Attivo" Margin="0,0,0,10" />

                <PasswordBox x:Name="Pwd1" Margin="0,0,0,10"
                             materialDesign:HintAssist.Hint="Nuova password (opzionale in modifica)" />
                <PasswordBox x:Name="Pwd2" Margin="0,0,0,10"
                             materialDesign:HintAssist.Hint="Conferma password" />

                <TextBlock x:Name="LblError" Foreground="DarkRed" TextWrapping="Wrap" Margin="0,0,0,10" />

                <StackPanel Orientation="Horizontal" HorizontalAlignment="Right">
                    <Button Content="Nuovo" Click="BtnNew_Click" Margin="0,0,10,0"
                            Style="{StaticResource MaterialDesignOutlinedButton}" />
                    <Button Content="Salva" Click="BtnSave_Click"
                            Style="{StaticResource MaterialDesignRaisedButton}" />
                </StackPanel>
            </StackPanel>
        </Border>
    </Grid>
</Window>
